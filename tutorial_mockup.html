<!DOCTYPE html>
<html>
<head>
    <style type="text/css">
        body {
            /*
            background: url(https://f.cloud.github.com/assets/4739887/2041234/0fcf02e2-89c3-11e3-8707-a2d570e8e1ea.png);
            */
        }

        .tutorial_modal {
            font-family: 'helvetica neue';

            position: relative;
            color: white;
            width: 500px;
            height: 280px;
            margin: 355px 345px;
            margin-top: 650px;
            background: rgba(0,0,0,0.75);
            border-radius: 6px;
            box-shadow: 5px 5px 20px #666;
        }

        .tutorial_modal .close {
            position: absolute;
            top: 10px;
            right: 10px;
        }
        .tutorial_modal .body {
            padding: 35px 68px 53px;
            color: white;
            font-size: 19px;
            font-weight: 200;
            text-align: center;
            line-height: 1.25;
            letter-spacing: 0.06rem;
        }

        .tutorial_modal h1 {
            color: rgb(245,238,49);
            font-weight: 400;
            font-size: 21px;
            letter-spacing: 0.015rem;
            text-transform: uppercase;
            text-align: center;
        }

        .tutorial_nav {
            position: relative;
            font-size: 20px;
            font-weight: 200;
            padding: 10px 15px;
            border-top: 1px solid #222;
            clear: left;
            letter-spacing: 0.08rem;
        }
        .tutorial_nav .back {
            float: left;
        }
        .tutorial_nav .next {
            float: right;
        }
        .tutorial_nav .disabled {
            color: #888;
        }
        .tutorial_nav .progress {
            text-align: center;
            width: 300px;
            position: absolute;
            left: 100px;
        }
        .tutorial_nav .dot {
            display: inline-block;
            background: white;
            width: 11px;
            height: 11px;
            border-radius: 100px;
            margin: 6px 3px;
        }
        .tutorial_nav .dot.active {
            background: #888;
        }
    </style>
</head>


<body>
    <div class="tutorial_modal">
        <span class="glyphicon glyphicon-remove-circle"></span>
        <div class="body">
            <h1>Choose an LGA to get started</h1>
            
            LGAs are organized by zone. Click on a State for a list of LGAs within that State or search for an LGA in the dropdown menu above.
        </div>
        <div class="tutorial_nav">
            <div class="back disabled">Back</div>
            <div class="progress">
                <div class="dot"></div>
                <div class="dot active"></div>
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
            <div class="next">Next</div>
        </div>
    </div>

    <script>

        function quadraticCurveMinMax(p0, p1, p2){
            var min = p0;
            var max = p2;
            var t_step = 0.0001;
            for (var t=t_step; t <= 1; t += t_step){
                var f = (1 - t) * (1 - t) * p0 + 2 * (1 - t) * t * p1 + (t * t * p2);
                if (f < min) min = f;
                if (f > max) max = f;
            }
            return [Math.round(min), Math.round(max)];
        }


        var p0x = 400;
        var p0y = 400;
        var p1x = 200;
        var p1y = -50;
        var p2x = 200;
        var p2y = 200;


        curvedArrow(400, 400, 200, -10, 200, 200);


        function curvedArrow(p0x, p0y, p1x, p1y, p2x, p2y){
            var size = 30;
            var canvas = document.createElement('canvas');
            document.body.appendChild(canvas);
            canvas.style.border = '1px solid red';
            var x_min_max = quadraticCurveMinMax(p0x, p1x, p2x);
            var y_min_max = quadraticCurveMinMax(p0y, p1y, p2y);
            var x_min = x_min_max[0] - size;
            var x_max = x_min_max[1] + size;
            var y_min = y_min_max[0] - size;
            var y_max = y_min_max[1] + size;
            console.log(x_min_max);
            console.log(y_min_max);


            canvas.style.position = 'absolute';
            canvas.style.top = x_min + 'px';
            canvas.style.left = y_min + 'px';
            canvas.width = x_max - x_min;
            canvas.height = y_max - y_min;

            p0x -= x_min;
            p0y -= y_min;
            p1x -= x_min;
            p1y -= y_min;
            p2x -= x_min;
            p2y -= y_min; 

            var ctx = canvas.getContext('2d');
            
            // Styling
            ctx.strokeStyle = 'rgb(245,238,49)';
            ctx.lineWidth = 10;
            ctx.lineJoin = 'round';
            ctx.lineCap = 'round';

            // Arrow body
            ctx.beginPath();
            ctx.moveTo(p0x, p0y);
            ctx.quadraticCurveTo(p1x, p1y, p2x, p2y);
            ctx.stroke();
            
            // Arrow head
            var angle = Math.atan2(p2y - p1y, p2x - p1x);
            ctx.translate(p2x, p2y);
            
            // Right side
            ctx.rotate(angle + 1);
            ctx.beginPath();
            ctx.moveTo(0, size);
            ctx.lineTo(0, 0);
            ctx.stroke();
            
            // Left side
            ctx.rotate(-2);
            ctx.lineTo(0, -size);
            ctx.stroke();

            // Restore context
            ctx.rotate(1 - angle);
            ctx.translate(-p2x, -p2y);
        }
    </script>
</body>

</html>